<!DOCTYPE html>
<html meta charset=UTF-8>
<title>Carolina's Derivative Sheet</title>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css'>
<script src="https://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    $(document).ready(function() {

            function sendme(e){
        //var product_code = $('#product_code').val();
        var product_code = "Carolina's Derivative Sheet"
            var product_name = $('#username').val();
            var price        = $('#correct').text();
            $.ajax({
                type : "POST",
                url  : "http://math.seattleacademy.org/api/ws/index.php/product/save",
                dataType : "JSON",
                data : {product_code:product_code , product_name:product_name, price:price},
                success: function(data){
                   // $('[name="product_code"]').val("");
                    //$('[name="product_name"]').val("");
                   //$('[name="price"]').val("");
                   // $('#Modal_Add').modal('hide');
                   // show_product();
                   console.log('success!!!!')
                }
            });
            return false;
    }
    $("#sendme").click(sendme);
    //shuffleMe();
    $('input').attr('size', 7);

    var count;
    var counter = setInterval(timer, 1000); //1000 will  run it every 1 second
    function timer() {
        $('.MathJax').attr("tabindex", -1); //Keeps MathJax objects from being tabable
        count = count - 1;

        if (count <= 0) {
            clearInterval(counter);
            $("#timesUp").text("Times up!");
            return;
        }

        $("#elapsedtime").html(count);
    }

    function reset(){
        $('input').val("");
        $('input').removeClass("correct");
        $('input').removeClass("incorrect");
        count = 600
        $('#errors').text(0);
        $('#correct').text(0);
    }

    reset();

    $('#reset').click(reset);

    $('#shuffle').click(shuffleMe);

    $('input').change(function() {

        correct = $(this).data('correct');
        response = $(this).val();

        if (correct == response) {
            $(this).removeClass("incorrect").addClass("correct");
            numcorrect = $('#correct').text();
            //We multiply by 1 change from type text to number
            $('#correct').text(numcorrect * 1 + 1);
            var myRand = Math.random();
            if(myRand<.2){
            audiolink = document.getElementById('appsound')
            audiolink.play();
        }
        } else {
            $(this).removeClass("correct").addClass("incorrect");
            numerrors = $('#errors').text();
            $('#errors').text(numerrors * 1 + 1);
            audiolink = document.getElementById('dohsound')
            audiolink.play();
        }

    });
});


function shuffleMe() {
    var parent = $("#quiz");
    var divs = parent.children();
    while (divs.length) {
        parent.append(divs.splice(Math.floor(Math.random() * divs.length), 1)[0]);
    }
};
</script>
<style>
    .correct {
    background: #90EE90;
}

.incorrect {
    background: #ED9090;
}

#score {
    margin-left: 5px;
    margin-top: 5px;
    margin-bottom: 5px;
    padding: 10px;
    border: 2px solid gray;
    background: rgb(234, 255, 252);
}

.score {
    margin-right: 7px;
}.col-md{
    padding: 10px;
}

</style>
</head>

<body>
    <div class="container">
        <div id="score">
            <strong>Correct:</strong> <span class="score" id="correct">0</span>
            <strong>Errors:</strong> <span class="score" id="errors">0</span>
            <strong>Time:</strong> <span class="score" id="elapsedtime">120</span>
            <span id="timesUp">...</span>
            <button type="button" id="reset" class="btn btn-primary" autocomplete="off">Reset</button>
            <button type="button" id="shuffle" class="btn btn-primary">Shuffle</button>
            <audio id="dohsound" controls>
                <source src="http://math.seattleacademy.org/garyanderson/snd/doh.mp3" type="audio/mpeg">
            </audio>
            <audio id="appsound" controls>
                <source src="http://math.seattleacademy.org/carolinastedman/snd/applause5.mp3" type="audio/mpeg">
            </audio>
            <stong>Email:</stong> <input id="username" size="35" class="form-control input-sm" /> <button id="sendme">Submit</button>
        </div> <!-- End #score -->
        <h3>Take the first derivative of each of the following equations:</h3>
        <h5>Your goal is to be able to take the first derivative of each of these functions in less than 10 minutes. Use decimals in exponents when neccessary.</h5>
        <div id="quiz">
            <div class="row">
                <div class="col-md">
                    <p>\(f(x) = \left ( \frac{2x}{1 + x^2} \right )\)
                        <input data-correct="2-2x^2 / (1+x^2)^2" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\(f(x) = x \bullet \sqrt{9 - x}\)
                        <input data-correct="(18-3x)/2(9-x)^.5" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\(f(x) = \left ( \frac{x^2 + 1}{x} \right ) \)
                        <input data-correct="(x^2-1)/x^2" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\(f(x) = x^8\)
                        <input data-correct="8x^7" type="text" /><span></span></p>
                </div>
            </div>
            <div class="row">
                <div class="col-md">
                    <p>\(f(x) = 100\)
                        <input data-correct="0" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\(f(x) = x^7 + x^2 + 17\)
                        <input data-correct="7x^6 + 2x" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\(f(x) = sinx \bullet cosx\)
                        <input data-correct="-sin^2x + cos^2x" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\( f(x) = \left ( \frac{30x^2 - 10x^6}{5x} \right ) \)
                        <input data-correct="6-10x^4" type="text" /><span></span></p>
                </div>
            </div>
            <div class="row">
                <div class="col-md">
                    <p>\(f(x) = \left ( \frac{cosx}{x^2} \right)\)
                        <input data-correct="(-xsinx - 2cosx)/x^3" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\(f(x) = (3+2\sqrt{t})\bullet(4\sqrt{t}-5)\)
                        <input data-correct="(3 + t^-.5)(2t^-.5 - 5)" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\(f(x) = \left ( \frac{1}{x^2} \right ) \)
                        <input data-correct="-2x^-3" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\(f(x) = \left ( \frac{3x^3}{e^x} \right )\)
                        <input data-correct="(9x^2 - 3x^3)/e^x" type="text" /><span></span></p>
                </div>
            </div>
            <div class="row">
                <div class="col-md">
                    <p>\(f(x) = 27 - 10x^3\)
                        <input data-correct="-30x^2" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\(f(x) = 10x^7\)
                        <input data-correct="70x^6" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\(f(x) = 2x + 7\)
                        <input data-correct="2" type="text" /><span></span></p>
                </div>
                <div class="col-md">
                    <p>\(f(x) = \left ( \frac{5x^2 + x}{x^2 + 2} \right)\)
                        <input data-correct="(-x^2 + 20x + 2) / (x^4 + 4x^2 + 4)" type="text" /><span></span></p>
                </div>
            </div>
        </div>
    </div>
    </div> <!-- End container -->
</body>

</html>